<div class="page-header">
  <div class="row">
    <h1 class="col-sm-4" style="margin-left: 40px"><%= link_to @user.name, edit_user_path(@user) %></h1>
    <div class="btn-group pull-right" style="margin-right: 100px;">
      <span><%= link_to 'Logout', 'logout', class: 'btn btn-default pull-right' %></span>
      <span><%= link_to 'Profile', edit_user_path(@user), class: 'btn btn-default pull-right' %></span>
      <span><%= link_to 'Add a Student', new_student_path, class: 'btn btn-default pull-right' %></span>
      <span><%= link_to 'All Students', students_path, class: 'btn btn-default pull-right' %></span>
      <span><%= link_to 'All Lessons', lessons_path, class: 'btn btn-default pull-right' %></span>
    </div>
    <div class="col-sm-4" style="margin: 0 0 0 40px; clear: left;">
      <div class="btn-group">  
        <span style="margin-right: 20px"><%= link_to 'Add', 'path_name', class: 'btn btn-default pull-left' %></span>
        <span style="margin-right: 20px"><%= link_to 'Lesson', new_lesson_path, class: 'btn btn-default pull-left' %></span>
        <span style="margin-right: 20px"><%= link_to 'Meeting', 'path_name', class: 'btn btn-default pull-left' %></span>
        <span style="margin-right: 20px"><%= link_to 'Break', 'path_name', class: 'btn btn-default pull-left' %></span>
      </div>
    </div>
  </div>
</div>

<!-- Main Schedule -->
<div class="row" style="margin-left: 28px; margin-bottom: -12px;">
  <h3 class="month-arrow"><%= link_to "<", users_path(week: @weekStart - 1.week) %></h3>
  <h3 class="month-arrow"><%= link_to ">", users_path(week: @weekStart + 1.week) %></h3>
</div>
<div class="schedule-wrap">
  <div class="row first-row">
    <div class="col-sm-1-schedule first-col">
      <h5 class="bold text-center"><%= (@weekStart).strftime("%B") %></h5>
    </div>
    <div class="col-sm-1-schedule monday">
      <h5 class="bold text-center"><%= link_to (@weekStart).strftime("%A %d"), day_path(day: @weekStart), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block tuesday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 1.days).strftime("%A %d"), day_path(day: @weekStart + 1.days), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block wednesday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 2.days).strftime("%A %d"), day_path(day: @weekStart + 2.days), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block thursday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 3.days).strftime("%A %d"), day_path(day: @weekStart + 3.days), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block friday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 4.days).strftime("%A %d"), day_path(day: @weekStart + 4.days), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block saturday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 5.days).strftime("%A %d"), day_path(day: @weekStart + 5.days), class: 'block' %></h5>
    </div>
    <div class="col-sm-1-schedule block sunday">
      <h5 class="bold text-center"><%= link_to (@weekStart + 6.days).strftime("%A %d"), day_path(day: @weekStart + 6.days), class: 'block' %></h5>
    </div>
  </div>
  <div class="row-time offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">12:00</h5></div>    
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 12, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">1:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 13, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">2:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 14, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">3:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 15, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">4:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 16, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">5:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 17, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">6:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 18, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">7:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 19, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">8:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 20, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">9:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 21, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  <div class="row-time last-row offset-color">
    <div class="col-sm-1-schedule first-col time-col text-center element-height"><h5 class="bold">10:00</h5></div>
    <% @days_from_this_week.each do |day| %>
      <% datetime = DateTime.new( day.year,  day.month, day.day, 22, 00 )%>
      <% if @user.lessons_at(datetime).exists? %>
        <% @user.lessons_at(datetime).each do |lesson| %>
          <div class="col-sm-1-schedule text-center element-height lesson-block lesson-active">
            <%= lesson.student.full_name %>
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-1-schedule text-center element-height lesson-block"></div>
      <% end %>
    <% end %>
  </div>
  
</div>


<div id="footer">
</div>

